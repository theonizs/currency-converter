import { type ApiResponse } from "~/types/api";

export default defineEventHandler(async (event) => {
  const url = useRuntimeConfig().public.apiCurrency;
  const query = getQuery(event);
  const currencyList = await $fetch<ApiResponse>(url + `/${query.currency}`);

  return currencyList;

  // return {
  //   provider: "https://www.exchangerate-api.com",
  //   WARNING_UPGRADE_TO_V6: "https://www.exchangerate-api.com/docs/free",
  //   terms: "https://www.exchangerate-api.com/terms",
  //   base: "THB",
  //   date: "2025-09-05",
  //   time_last_updated: 1757030401,
  //   rates: {
  //     THB: 1,
  //     AED: 0.114,
  //     AFN: 2.11,
  //     ALL: 2.59,
  //     AMD: 11.81,
  //     ANG: 0.0554,
  //     AOA: 29.03,
  //     ARS: 42.18,
  //     AUD: 0.0475,
  //     AWG: 0.0554,
  //     AZN: 0.0526,
  //     BAM: 0.052,
  //     BBD: 0.0619,
  //     BDT: 3.77,
  //     BGN: 0.052,
  //     BHD: 0.0116,
  //     BIF: 92.41,
  //     BMD: 0.031,
  //     BND: 0.0399,
  //     BOB: 0.214,
  //     BRL: 0.169,
  //     BSD: 0.031,
  //     BTN: 2.73,
  //     BWP: 0.43,
  //     BYN: 0.104,
  //     BZD: 0.0619,
  //     CAD: 0.0428,
  //     CDF: 89.77,
  //     CHF: 0.0249,
  //     CLP: 29.97,
  //     CNY: 0.221,
  //     COP: 123.88,
  //     CRC: 15.63,
  //     CUP: 0.743,
  //     CVE: 2.93,
  //     CZK: 0.65,
  //     DJF: 5.5,
  //     DKK: 0.198,
  //     DOP: 1.96,
  //     DZD: 4.02,
  //     EGP: 1.5,
  //     ERN: 0.464,
  //     ETB: 4.41,
  //     EUR: 0.0266,
  //     FJD: 0.0702,
  //     FKP: 0.023,
  //     FOK: 0.198,
  //     GBP: 0.023,
  //     GEL: 0.0832,
  //     GGP: 0.023,
  //     GHS: 0.375,
  //     GIP: 0.023,
  //     GMD: 2.26,
  //     GNF: 268.56,
  //     GTQ: 0.237,
  //     GYD: 6.46,
  //     HKD: 0.241,
  //     HNL: 0.81,
  //     HRK: 0.2,
  //     HTG: 4.04,
  //     HUF: 10.46,
  //     IDR: 508.26,
  //     ILS: 0.104,
  //     IMP: 0.023,
  //     INR: 2.73,
  //     IQD: 40.45,
  //     IRR: 1346.57,
  //     ISK: 3.81,
  //     JEP: 0.023,
  //     JMD: 4.94,
  //     JOD: 0.022,
  //     JPY: 4.59,
  //     KES: 4,
  //     KGS: 2.7,
  //     KHR: 124.03,
  //     KID: 0.0475,
  //     KMF: 13.07,
  //     KRW: 43.1,
  //     KWD: 0.00945,
  //     KYD: 0.0258,
  //     KZT: 16.73,
  //     LAK: 671.37,
  //     LBP: 2771.02,
  //     LKR: 9.3,
  //     LRD: 6.21,
  //     LSL: 0.55,
  //     LYD: 0.167,
  //     MAD: 0.281,
  //     MDL: 0.515,
  //     MGA: 136.61,
  //     MKD: 1.63,
  //     MMK: 64.96,
  //     MNT: 110.75,
  //     MOP: 0.249,
  //     MRU: 1.24,
  //     MUR: 1.43,
  //     MVR: 0.478,
  //     MWK: 54.04,
  //     MXN: 0.58,
  //     MYR: 0.131,
  //     MZN: 1.98,
  //     NAD: 0.55,
  //     NGN: 47.25,
  //     NIO: 1.14,
  //     NOK: 0.313,
  //     NPR: 4.36,
  //     NZD: 0.0529,
  //     OMR: 0.0119,
  //     PAB: 0.031,
  //     PEN: 0.109,
  //     PGK: 0.131,
  //     PHP: 1.77,
  //     PKR: 8.78,
  //     PLN: 0.113,
  //     PYG: 223.52,
  //     QAR: 0.113,
  //     RON: 0.135,
  //     RSD: 3.11,
  //     RUB: 2.52,
  //     RWF: 44.97,
  //     SAR: 0.116,
  //     SBD: 0.253,
  //     SCR: 0.459,
  //     SDG: 13.8,
  //     SEK: 0.293,
  //     SGD: 0.0399,
  //     SHP: 0.023,
  //     SLE: 0.721,
  //     SLL: 721.05,
  //     SOS: 17.62,
  //     SRD: 1.19,
  //     SSP: 140.86,
  //     STN: 0.651,
  //     SYP: 400.43,
  //     SZL: 0.55,
  //     TJS: 0.292,
  //     TMT: 0.108,
  //     TND: 0.09,
  //     TOP: 0.0726,
  //     TRY: 1.28,
  //     TTD: 0.21,
  //     TVD: 0.0475,
  //     TWD: 0.951,
  //     TZS: 77.29,
  //     UAH: 1.28,
  //     UGX: 109.09,
  //     USD: 0.031,
  //     UYU: 1.24,
  //     UZS: 377.04,
  //     VES: 4.73,
  //     VND: 815.82,
  //     VUV: 3.66,
  //     WST: 0.0843,
  //     XAF: 17.43,
  //     XCD: 0.0836,
  //     XCG: 0.0554,
  //     XDR: 0.0226,
  //     XOF: 17.43,
  //     XPF: 3.17,
  //     YER: 7.42,
  //     ZAR: 0.551,
  //     ZMW: 0.735,
  //     ZWL: 0.826,
  //   },
  // };
});
